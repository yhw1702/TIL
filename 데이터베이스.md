# TIL

>오늘 배운 것을 기록합니다.

# 데이터베이스

<details>
  <summary>2022 10 31 (데이터베이스의 기본)</summary>
<pre>

# 데이터베이스(DataBase)

데이터베이스는 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음입니다.
해당 데이터베이스를 제어, 관리하는 통합 시스템을 DBMS(DataBase Management System)
라고 합니다.

## 1. 엔티티(entity)

엔티티는 사람, 장소, 물건, 사건 등 여러 개의 속성을 지닌 명사를 의미합니다.
예를 들어 회원이라는 엔티티가 있다면 회원은 이름, 아이디, 주소 등의 속성을
갖습니다.

## 2. 릴레이션(relation)

데이터베이스에서 정보를 구분하여 저장하는 기본 단위로 엔티티에 관한 데이터를
데이터베이스는 릴레이션 하나에 담아서 관리합니다.
MYSQL등의 관계형 데이터베이스에서는 '테이블'이라고 하며 MongoDB등의 NoSQL 에서는 '컬렉션'
이라고 합니다.

### 2-1 데이터베이스의 구조

관계형 데이터베이스 : 레코드-테이블-데이터베이스
NoSQL 데이터베이스 : 도큐먼트-컬렉션-데이터베이스

## 3. 속성(attribute)

릴레이션에서 관리하는 구체적이며 고유한 이름을 갖는 정보로 서비스의 요구 사항을
기반으로 관리해야 할 필요가 있는 속성들만 엔티티의 속성이 됩니다.

## 4. 도메인(domain)

릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합을 말합니다.
예를 들어 성별이라는 속성이 있다면 이 속성이 가질 수 있는 값은 {남, 여}라는 집합이
됩니다.

## 5. 필드와 레코드

앞에서 설명한 것들을 기반으로 데이터베이스에서 필드와 레코드로 구성된 테이블을
만들 수 있습니다.

회원이란 엔티티는 member라는 테이블(릴레이션)로 속성인 이름, 아이디 등을 가지고 있으며 
name, ID, address 등의 필드를 가집니다.
이 테이블에 쌓이는 행(row) 단위의 데이터를 레코드(튜플)라고 합니다.

### 5-1 필드 타입

필드는 타입을 가지며 숫자 타입, 날짜 타입, 문자 타입 등이 있습니다.

## 6. 관계

데이터베이스에 테이블은 하나만 있는 것이 아닙니다. 여러 개의 테이블이 있고 이러한
테이블은 서로의 관계가 정의되어 있습니다. 이러한 관계를 관계화살표로 나타냅니다.

![image](https://user-images.githubusercontent.com/105253684/198938688-fc1ec943-b531-49ea-aa4d-0369a0f56a55.png)

### 6-1 1:1 관계

예를 들어 유저당 유저 이메일은 하나라면, 이 경우 1:1관계가 됩니다.

### 6-2 1:N 관계(일대다관계)

쇼핑몰 운영 중 한 유저당 여러 개의 상품을 장바구니에 넣을 수 있다.
이 경우 1:N 관계가 됩니다. 물론 하나도 넣지 않는 0개의 경우도 있으니 화살표를
통해 표현해야합니다.

### 6-3 N:M 관계(다대다관계)

학생과 강의 관계를 정의한다고 가정하면 학생도 강의를 많이 들을 수 있고, 강의도
여러 명의 학생을 포함할 수 있습니다. 이 경우 N:M 관계가 됩니다.
다대다관계는 두 테이블을 직접적으로 연결해서 구축하지는 않고 1:N,1:M이라는 관계를
갖는 테이블 두 개로 나눠서 설정합니다.

## 7. 키

테이블 간의 관계를 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치로 
기본키, 외래키, 후보키, 슈퍼키, 대체키가 있습니다.

![image](https://user-images.githubusercontent.com/105253684/198939022-5603a149-a545-48f8-a593-fdbf05952242.png)

키들은 앞의 그림과 같은 관계를 가집니다. 슈퍼키는 유일성이 있고 그 안에 포함된
후보키는 최소성까지 갖춘 키입니다. 후보키 중에서 기본키로 선택되지 못한 키는
대체키가 됩니다. 
유일성이란 중복되는 값이 없는 것을 말하며, 최소성은 필드를 조합하지 않고 최소
필드만 써서 키를 형성할 수 있는 것을 말합니다.

### 7-1 기본키

기본키(Primary Key)는 줄여 PK라고 부르며, 유일성과 최소성을 만족하는 키입니다.
물론 {ID, name} 등 복합키를 기본키로 설정할 수 있지만 그렇게 되면 최소성을 만족
하지 않습니다.
기본키는 자연키 또는 인조키 중에 골라 설정합니다.

자연키 : 중복되지 않는 것을 '자연스레' 뽑다가 나오는 키
인조키 : mysql에 auto increment 등 같이 인위적으로 생성한 키

### 7-2 외래키

외래키(Foreign Key)는 FK라고도 하며, 다른테이블의 기본키를 그대로 참조하는
값으로 개체와의 관계를 식별하는 데 사용합니다.
외래키는 중복되어도 괜찮습니다.

### 7-3 후보키

후보키(Candidate Key)는 기본키가 될 수 있는 후보들이며 유일성과 최소성을
동시에 만족하는 키입니다.

### 7-4 대체키

대체키(Alternate Key)는 후보키가 두 개 이상일 경우 어느 하나를 기본키로
지정하고 남은 후보키들을 말합니다.

### 7-5 슈퍼키

슈퍼키(Super Key)는 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키입니다.

</pre>
</details>

<details>
  <summary>2022 10 31 (ERD와 트랜잭션)</summary>
<pre>

# 1. ERD(Entity Relationship Diagram)
ERD는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할을 하며, 릴레이션 간의 관계들을 정의한 것입니다.
서비스 구축 시 가장 먼저 신경 써야 할 부분이며, 이 부분을 넘어가면 단단하지 않은 골조로 건물을 짓는 것이
나 다름없습니다.

## 1-1 중요성
시스템의 요구 사항을 기반으로 작성되며 이 ERD를 기반으로 데이터베이스를 구축합니다. 데이터베이스를 구축한
이후에도 디버깅 또는 비즈니스 프로세스 재설계가 필요한 경우에 설계도 역할을 담당하기도 합니다.

## 1-2 정규화 과정
릴레이션간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을
효율적으로 사용하기 위해 릴레이션을 여러 개로 분리 하는 과정입니다.

---

# 2. 트랜잭션
데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위를 말하며 데이터베이스에 접근하는 방법은
쿼리이므로, 즉 여러 개의 쿼리들을 하나로 묶는 단위를 말합니다.
트랜잭션의 특징으로 원자성, 일관성, 독립성, 지속성이 있으며 이를 한꺼번에 ACID 특징이라고 합니다.

## 2-1 원자성(atomicity)
트랜잭션과 관련된 일이 모두 수행되었거나 되지 않았거나를 보장하는 특징입니다.

## 2-2 일관성(consistency)
'허용된 방식'으로만 데이터를 변경해야 하는 것을 의미합니다. 데이터베이스에 기록된 모든 데이터는 여러 가지
조건, 규칙에 따라 유효함을 가져야 합니다.

## 2-3 격리성(isolation)
트랜잭션 수행 시 서로 끼어들지 못하는 것을 말합니다. 복수의 병렬 트랜잭션은 서로 격리되어 마치 순차적으로
실행되는 것처럼 작동되어야 하고, 데이터베이스는 여러 사용자가 같은 데이터에 접근할 수 있어야 합니다.

## 2-4 지속성(durability)
성공적으로 수행된 트랜잭션은 영원히 반영되어야 하는 것을 의미합니다. 이는 데이터베이스에 시스템 장애가
발생해도 원래 상태로 복구하는 회복 기능이 있어야 함을 뜻하며, 데이터베이스는 이를 위해 체크섬, 저널링,
롤백 등의 기능을 제공합니다.

</pre>
</details>


<details>
  <summary>2022-11-02(데이터베이스의 종류, 인덱스)</summary>
<pre>

# 1. 데이터베이스의 종류

![image](https://user-images.githubusercontent.com/105253684/199386413-67bb061c-518b-46a5-8184-3029cd1b68de.png)

## 1-1 관계형 데이터베이스
관계형 데이터베이스(RDBMS)는 행과 열을 가지는 표 형식 데이터를 저장하는 형태의 데이터베이스를 가리키며
SQL이라는 언어를 써서 조작합니다.
대표적으로 MYSQL, PostgreSQL, 오라클, MSSQL 등이 있습니다.

## 1-2 NoSQL(Not only SQL)
NoSQL은 Not only SQL 이라는 슬로건에서 생겨난 데이터베이스입니다. SQL(Structured Query Language(구조화된 쿼리 언어))
를 사용하지 않는 데이터베이스를 말합니다.
대표적으로 MongoDB와 redis 등이 있습니다.

## 1-3 관계형 데이터베이스와 NoSQL의 차이점
* 데이터 저장 방식
관계형은 SQL을 이용해 테이블에 저장하며 미리 작성된 스키마를 기반으로 정해진 형식에 맞게 데이터를 저장한다.
NoSQL은 key-value, document, wide-column, graph 등의 방식으로 데이터를 저장한다.
* 스키마의 형태
관계형은 고정된 형식의 스키마를 사용 NoSQL은 관계형보다 동적으로 스키마의 형태를 관리할 수 있다.
* 쿼리
관계형은 구조화된 쿼리 언어를 사용하여 형식과 테이블간의 관계에 맞춰 데이터를 요청해야하지만, NoSQL은 데이터 그룹
자체를 조회하는 것에 초점을 둬 구조화 되지 않은 쿼리 언어로도 데이터 요청이 가능하다.
* 확장성
관계형은 수직적으로 확장하지만, NoSQL은 수평적으로 확장한다.

---

# 2. 인덱스
데이터를 빠르게 찾을 수 있는 하나의 장치입니다. 예를 들어 책의 마지막 장에 있는 찾아보기를 생각하면 됩니다.

## 2-1 인덱스를 사용하는 이유 (장점)
인덱스의 가장 큰 특징은 데이터들이 정렬이 되어있다는 점. 이 특징으로 인해 조건 검색이라는 영역에서 굉장한 장점이
됩니다.

## 2-2 인텍스를 사용하면 무조건 효율이 좋을까? (단점)
인덱스의 장점은 그에 따른 부작용도 있습니다. 가장 큰 문제점은 정렬된 상태를 계속 유지시켜줘야 한다는 점.
그렇기에 레코드 내에 데이터 값이 바뀌는 부분이라면 악영향을 미칩니다.

## 2-3 인덱스의 구조
여러 가지 유형이 있지만 그중에서도 가장 많이 사용하는 인덱스의 구조는 밸런스드 트리 인덱스 구조(B-TREE)입니다.
B-TREE구조는 대부분의 DBMS에서 특히 중점적으로 사용하고 있는 가장 보편적인 인덱스입니다.

![image](https://user-images.githubusercontent.com/105253684/199397782-b1d2ad0f-b104-4135-865e-3b33c914f9c3.png)

구조는 위와 같이 Root(기준) / Branch(중간) / Leaf(말단) Node로 구성되며 계층적 구조를 갖습니다.




</pre>
</details>


<details>
  <summary>2022-11-03(JOIN의 종류와 원리)</summary>
<pre>



</pre>
</details>